!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Nlvi=e()}(this,function(){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=i(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function n(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function f(t){return"function"==typeof t}var p=!1,h={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t);p=t},get useDeprecatedSynchronousErrorHandling(){return p}};function d(t){setTimeout(function(){throw t})}var y={closed:!0,next:function(t){},error:function(t){if(h.useDeprecatedSynchronousErrorHandling)throw t;d(t)},complete:function(){}},b=Array.isArray||function(t){return t&&"number"==typeof t.length};function v(t){return null!=t&&"object"==typeof t}var m,w={e:{}};function _(){try{return m.apply(this,arguments)}catch(t){return w.e=t,w}}function g(t){return m=t,_}function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}t.prototype=Object.create(Error.prototype);var E=t,x=function(){function r(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var t;return r.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,r=this._parents,o=this._unsubscribe,i=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s=-1,u=r?r.length:0;n;)n.remove(this),n=++s<u&&r[s]||null;if(f(o))g(o).call(this)===w&&(e=!0,t=t||(w.e instanceof E?S(w.e.errors):[w.e]));if(b(i))for(s=-1,u=i.length;++s<u;){var c=i[s];if(v(c))if(g(c.unsubscribe).call(c)===w){e=!0,t=t||[];var a=w.e;a instanceof E?t=t.concat(S(a.errors)):t.push(a)}}if(e)throw new E(t)}},r.prototype.add=function(t){if(!t||t===r.EMPTY)return r.EMPTY;if(t===this)return this;var e=t;switch(typeof t){case"function":e=new r(t);case"object":if(e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if("function"!=typeof e._addParent){var n=e;(e=new r)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(e),e._addParent(this),e},r.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},r.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},r.EMPTY=((t=new r).closed=!0,t),r}();function S(t){return t.reduce(function(t,e){return t.concat(e instanceof E?e.errors:e)},[])}var T="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),k=function(o){function i(t,e,n){var r=o.call(this)||this;switch(r.syncErrorValue=null,r.syncErrorThrown=!1,r.syncErrorThrowable=!1,r.isStopped=!1,r._parentSubscription=null,arguments.length){case 0:r.destination=y;break;case 1:if(!t){r.destination=y;break}if("object"==typeof t){t instanceof i?(r.syncErrorThrowable=t.syncErrorThrowable,(r.destination=t).add(r)):(r.syncErrorThrowable=!0,r.destination=new O(r,t));break}default:r.syncErrorThrowable=!0,r.destination=new O(r,t,e,n)}return r}return n(i,o),i.prototype[T]=function(){return this},i.create=function(t,e,n){var r=new i(t,e,n);return r.syncErrorThrowable=!1,r},i.prototype.next=function(t){this.isStopped||this._next(t)},i.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},i.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},i.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,o.prototype.unsubscribe.call(this))},i.prototype._next=function(t){this.destination.next(t)},i.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},i.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},i.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this._parentSubscription=null,this},i}(x),O=function(u){function t(t,e,n,r){var o,i=u.call(this)||this;i._parentSubscriber=t;var s=i;return f(e)?o=e:e&&(o=e.next,n=e.error,r=e.complete,e!==y&&(f((s=Object.create(e)).unsubscribe)&&i.add(s.unsubscribe.bind(s)),s.unsubscribe=i.unsubscribe.bind(i))),i._context=s,i._next=o,i._error=n,i._complete=r,i}return n(t,u),t.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;h.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},t.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=h.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?this.__tryOrSetError(e,this._error,t):this.__tryOrUnsub(this._error,t),this.unsubscribe();else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):d(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;d(t)}}},t.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};h.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,n):this.__tryOrUnsub(n),this.unsubscribe()}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),h.useDeprecatedSynchronousErrorHandling)throw t;d(t)}},t.prototype.__tryOrSetError=function(e,t,n){if(!h.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return h.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0):(d(t),!0)}return!1},t.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},t}(k);var j="function"==typeof Symbol&&Symbol.observable||"@@observable";function A(){}var C=function(){function n(t){this._isScalar=!1,t&&(this._subscribe=t)}return n.prototype.lift=function(t){var e=new n;return e.source=this,e.operator=t,e},n.prototype.subscribe=function(t,e,n){var r=this.operator,o=function(t,e,n){if(t){if(t instanceof k)return t;if(t[T])return t[T]()}return t||e||n?new k(t,e,n):new k(y)}(t,e,n);if(r?r.call(o,this.source):o.add(this.source||h.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),h.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},n.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){h.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),!function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof k?e:null}return!0}(e)?console.warn(t):e.error(t)}},n.prototype.forEach=function(r,t){var o=this;return new(t=P(t))(function(t,e){var n;n=o.subscribe(function(t){try{r(t)}catch(t){e(t),n&&n.unsubscribe()}},e,t)})},n.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},n.prototype[j]=function(){return this},n.prototype.pipe=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 0===t.length?this:((e=t)?1===e.length?e[0]:function(t){return e.reduce(function(t,e){return e(t)},t)}:A)(this)},n.prototype.toPromise=function(t){var r=this;return new(t=P(t))(function(t,e){var n;r.subscribe(function(t){return n=t},function(t){return e(t)},function(){return t(n)})})},n.create=function(t){return new n(t)},n}();function P(t){if(t||(t=h.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function D(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}D.prototype=Object.create(Error.prototype);var H=function(r){return function(t){for(var e=0,n=r.length;e<n&&!t.closed;e++)t.next(r[e]);t.closed||t.complete()}};function I(r,o){return new C(o?function(t){var e=new x,n=0;return e.add(o.schedule(function(){n!==r.length?(t.next(r[n++]),t.closed||e.add(this.schedule())):t.complete()})),e}:H(r))}function L(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}L.prototype=Object.create(Error.prototype);function R(e,n){return function(t){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return t.lift(new V(e,n))}}var V=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new U(t,this.project,this.thisArg))},t}(),U=function(o){function t(t,e,n){var r=o.call(this,t)||this;return r.project=e,r.count=0,r.thisArg=n||r,r}return n(t,o),t.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},t}(k),M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(k),N=function(o){function t(t,e,n){var r=o.call(this)||this;return r.parent=t,r.outerValue=e,r.outerIndex=n,r.index=0,r}return n(t,o),t.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},t.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(k),Y=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,d),e}};function z(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var q=z(),W=function(r){return function(t){for(var e=r[q]();;){var n=e.next();if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}return"function"==typeof e.return&&t.add(function(){e.return&&e.return()}),t}},B=function(n){return function(t){var e=n[j]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)}},F=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function G(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var J=function(e){if(e instanceof C)return function(t){return e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t)};if(e&&"function"==typeof e[j])return B(e);if(F(e))return H(e);if(G(e))return Y(e);if(e&&"function"==typeof e[q])return W(e);var t=v(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function K(t,e,n,r,o){if(void 0===o&&(o=new N(t,n,r)),!o.closed)return J(e)(o)}function Q(t,e){if(!e)return t instanceof C?t:new C(J(t));if(null!=t){if((u=t)&&"function"==typeof u[j])return i=t,new C((s=e)?function(e){var n=new x;return n.add(s.schedule(function(){var t=i[j]();n.add(t.subscribe({next:function(t){n.add(s.schedule(function(){return e.next(t)}))},error:function(t){n.add(s.schedule(function(){return e.error(t)}))},complete:function(){n.add(s.schedule(function(){return e.complete()}))}}))})),n}:B(i));if(G(t))return r=t,new C((o=e)?function(e){var n=new x;return n.add(o.schedule(function(){return r.then(function(t){n.add(o.schedule(function(){e.next(t),n.add(o.schedule(function(){return e.complete()}))}))},function(t){n.add(o.schedule(function(){return e.error(t)}))})})),n}:Y(r));if(F(t))return I(t,e);if((n=t)&&"function"==typeof n[q]||"string"==typeof t)return function(e,n){if(!e)throw new Error("Iterable cannot be null");return new C(n?function(r){var o,t=new x;return t.add(function(){o&&"function"==typeof o.return&&o.return()}),t.add(n.schedule(function(){o=e[q](),t.add(n.schedule(function(){if(!r.closed){var t,e;try{var n=o.next();t=n.value,e=n.done}catch(t){return void r.error(t)}e?r.complete():(r.next(t),this.schedule())}}))})),t}:W(e))}(t,e)}var n,r,o,i,s,u;throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function X(t,n,r,e){return f(r)&&(e=r,r=void 0),e?X(t,n,r).pipe(R(function(t){return b(t)?e.apply(void 0,t):e(t)})):new C(function(e){!function t(e,n,r,o,i){var s;if(d=e,d&&"function"==typeof d.addEventListener&&"function"==typeof d.removeEventListener){var u=e;e.addEventListener(n,r,i),s=function(){return u.removeEventListener(n,r,i)}}else if(h=e,h&&"function"==typeof h.on&&"function"==typeof h.off){var c=e;e.on(n,r),s=function(){return c.off(n,r)}}else if(p=e,p&&"function"==typeof p.addListener&&"function"==typeof p.removeListener){var a=e;e.addListener(n,r),s=function(){return a.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,f=e.length;l<f;l++)t(e[l],n,r,o,i)}var p;var h;var d;o.add(s)}(t,n,function(t){e.next(1<arguments.length?Array.prototype.slice.call(arguments):t)},e,r)})}var Z=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new tt(t,this.resultSelector))},t}(),tt=function(o){function t(t,e,n){void 0===n&&(n=Object.create(null));var r=o.call(this,t)||this;return r.iterators=[],r.active=0,r.resultSelector="function"==typeof e?e:null,r.values=n,r}return n(t,o),t.prototype._next=function(t){var e=this.iterators;b(t)?e.push(new nt(t)):e.push("function"==typeof t[q]?new et(t[q]()):new rt(this.destination,this,t))},t.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];if(r.stillUnsubscribed)this.destination.add(r.subscribe(r,n));else this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){if("function"==typeof(s=t[r]).hasValue&&!s.hasValue())return}var o=!1,i=[];for(r=0;r<e;r++){var s,u=(s=t[r]).next();if(s.hasCompleted()&&(o=!0),u.done)return void n.complete();i.push(u.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),o&&n.complete()},t.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},t}(k),et=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),nt=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[q]=function(){return this},t.prototype.next=function(t){var e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.index<this.array.length},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),rt=function(o){function t(t,e,n){var r=o.call(this,t)||this;return r.parent=e,r.observable=n,r.stillUnsubscribed=!0,r.buffer=[],r.isComplete=!1,r}return n(t,o),t.prototype[q]=function(){return this},t.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},t.prototype.hasValue=function(){return 0<this.buffer.length},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){0<this.buffer.length?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(t,e,n,r,o){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(t,e){return K(this,this.observable,this,e)},t}(M);var ot=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new it(t,this.predicate,this.thisArg))},t}(),it=function(o){function t(t,e,n){var r=o.call(this,t)||this;return r.predicate=e,r.thisArg=n,r.count=0,r}return n(t,o),t.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},t}(k);function st(e,o){return"function"==typeof o?function(t){return t.pipe(st(function(n,r){return Q(e(n,r)).pipe(R(function(t,e){return o(n,t,r,e)}))}))}:function(t){return t.lift(new ut(e))}}var ut=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new ct(t,this.project))},t}(),ct=function(r){function t(t,e){var n=r.call(this,t)||this;return n.project=e,n.index=0,n}return n(t,r),t.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},t.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var o=new N(this,void 0,void 0);this.destination.add(o),this.innerSubscription=K(this,t,e,n,o)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||r.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&r.prototype._complete.call(this)},t.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},t}(M);var at=function(){function r(t){o(this,r),this.config=t,this.theme=t.theme,this.scrollArr=[]}return e(r,[{key:"init",value:function(){var e=this,n=r.utils,t={smoothScroll:function(){$(".toc-link").on("click",function(){$("html, body").animate({scrollTop:$($.attr(this,"href")).offset().top-200})})},picPos:function(){var e=this,t=Layzr();$(".post-content").each(function(){$(this).find("img").each(function(){$(this).parent("p").css("text-align","center");var t='<img src="'.concat(this.src,'"');e.theme.lazy&&(t='<img data-normal="'.concat(this.src,'"')),$(this).replaceWith('<a href="'.concat(this.src,'" data-title="').concat(this.alt,'" data-lightbox="group">').concat(t,' alt="').concat(this.alt,'"></a>'))})}),t.update().handlers(!0)},showComments:function(){var t=this;$("#com-switch").on("click",function(){n("iss","#post-comments").display()?($("#post-comments").css("display","block").addClass("syuanpi fadeInDown"),$(t).removeClass("syuanpi").css("transform","rotate(180deg)")):($(t).addClass("syuanpi").css("transform",""),n("cls","#post-comments").opreate("fadeInDown","remove"),n("ani","#post-comments").end("fadeOutUp",function(){$(this).css("display","none")}))})}};return r.opScroll(this.scrollArr),Object.values(t).forEach(function(t){return t.call(e)})}},{key:"back2top",value:function(){$(".toTop").on("click",function(){$("html, body").animate({scrollTop:0})})}},{key:"pushHeader",value:function(){var e=this.utils("cls","#mobile-header");this.scrollArr.push(function(t){e.opreate("header-scroll",5<t?"add":"remove")})}},{key:"updateRound",value:function(t){var e=Math.floor(t/($(document).height()-$(window).height())*100);$("#scrollpercent").html(e)}},{key:"showToc",value:function(){var s=r.utils,u=$(".toc-link"),c=$(".headerlink");this.scrollArr.push(function(e){var t=$.map(c,function(t){return $(t).offset().top});$(".title-link a").each(function(){var t=s("cls",this);0<=e&&e<230?t.opreate("active"):t.opreate("active","remove")});for(var n=0;n<u.length;n++){var r=t[n],o=n+1===u.length?1/0:t[n+1],i=s("cls",u[n]);r<e+210&&e+210<=o?i.opreate("active"):i.opreate("active","remove")}})}},{key:"titleStatus",value:function(){var e,n=document.title;document.addEventListener("visibilitychange",function(){var t=Math.floor($(window).scrollTop()/($(document).height()-$(window).height())*100);$(document).height()-$(window).height()==0&&(function(t){throw new Error('"'+t+'" is read-only')}("sct"),t=100),document.hidden?(clearTimeout(e),document.title="Read "+t+"% · "+n):(document.title="Welcome Back · "+n,e=setTimeout(function(){document.title=n},3e3))})}},{key:"showReward",value:function(){var t=r.utils,e=t("ani","#reward-btn");$("#reward-btn").click(function(){t("iss","#reward-btn")?($("#reward-wrapper").css("display","flex"),e.end("clarity")):e.end("melt",function(){$("#reward-wrapper").hide()})})}},{key:"pjax",value:function(){}}],[{key:"utils",value:function(t,e){var n=this,r=function(n){return{opreate:function(t,e){return"remove"===e?$(n).removeClass(t):$(n).addClass(t)},exist:function(t){return $(n).hasClass(t)}}};return{cls:r,iss:function(t){return{banderole:function(){return"banderole"===n.theme.scheme},balance:function(){return"balance"===n.theme.scheme},display:function(){return"none"===$(t).css("display")}}},ani:function(n){return{close:function(){return r.opreate(".syuanpi","syuanpi","remove")},end:function(t,e){$(n).addClass(t).one("webkitAnimationEnd AnimationEnd",function(){$(n).removeClass(t),e&&e.call(null,n)})}}}}[t](e)}},{key:"opScroll",value:function(t){var e=X(window,"scroll").pipe(R(function(t){return t.target.scrollingElement.scrollTop}));t.length&&e.subscribe(function(e){return t.forEach(function(t){return t(e)})})}}]),r}();return function(t){function n(t){var e;return o(this,n),(e=u(this,i(n).call(this,t))).utils=at.utils,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(n,at),e(n,[{key:"back2top",value:function(){var e=this;this.utils("cls","#backtop").opreate("melt","remove"),this.scrollArr.push(function(t){e.updateRound(t)}),c(i(n.prototype),"back2top",this).call(this)}},{key:"tagcloud",value:function(){var t=this.utils,e=$("#tags"),n=t("cls","body"),r=t("cls","#tagcloud"),o=t("ani","#tagcloud"),i=t("cls",".container-inner");e.on("click",function(){n.exist("under")?(n.opreate("under","remove"),i.opreate("under","remove"),r.opreate("shuttleIn","remove"),o.end("zoomOut",function(){r.opreate("syuanpi show","remove")})):(n.opreate("under","add"),i.opreate("under","add"),r.opreate("syuanpi shuttleIn show"))});var s=X(document.querySelectorAll(".tagcloud-tag button"),"click").pipe(R(function(t){return t.target})),u=Q(document.querySelectorAll(".tagcloud-postlist")),c=u.pipe(R(function(t){return t.classList.remove("active")}));(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),I(t,void 0).lift(new Z(n))})(s.pipe(st(function(){return c})),s).pipe(R(function(t){var e=a(t,2);return e[1]}),st(function(e){return u.pipe((n=function(t){return t.firstElementChild.innerHTML===e.innerHTML},function(t){return t.lift(new ot(n,r))}));var n,r})).subscribe(function(t){return t.classList.add("active")})}},{key:"switchToc",value:function(){var e=this.utils,t=e("cls","#toc-switch"),n=e("ani",".toc-inner");function r(t){e("cls",".menu-item").opreate("has_toc",t),e("cls",".main-nav").opreate("has_toc",t)}e("cls","#toc-switch").opreate("not-toc"),$("#toc-switch").on("click",function(){t.exist("not-toc")?(t.opreate("not-toc","remove"),n.end("fadeInDown"),$(".toc-inner").show(),r()):(n.end("fadeOutUp",function(){$(".toc-inner").hide()}),t.opreate("not-toc"),r("remove"))})}}]),n}()});
